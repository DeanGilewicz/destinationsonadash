{"version":3,"sources":["main.js"],"names":["jQuery","document","ready","$","formatLightboxImageSize","imgSizes","imgArr","split","reverse","mdLgSize","find","item","index","array","indexOf","updateButtonNav","addClass","lightboxImages","length","data","removeClass","FastClick","attach","body","on","headerMiddle","searchInput","toggleClass","hasClass","focus","headerBottom","currentSlide","this","eq","currentSearchSlide","indexSearchSlide","slideDirection","attr","totalNumOfSlides","window","width","e","preventDefault","firstLightboxImg","clickedImgSource","clickedImgAlt","parents","each","currentImgSource","currentImgAtl","push","imageSrc","imageAlt","text","next"],"mappings":"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","file":"main.min.js","sourcesContent":["// need to wrap jQuery in a no conflict wrapper - wp can work with many js libraries and $ signs\njQuery(document).ready(function($) {\n\n\t\"use strict\";\n\n\t// console.log('ready to go');\n\n\t// uncomment if using foundation js\n\t// $(document).foundation();\n\n\t// fastclick - removes 300ms firing of click event when tap on mobile\n\tFastClick.attach(document.body);\n\n\n\t// GLOBAL HEADER\n\n\t// search input field functionality\n\n\t$('#js-header-search-icon').on('click', function() {\n\t\tvar headerMiddle = $('.header_search');\n\t\tvar searchInput = $('#header-search-field');\n\t\t$(headerMiddle).toggleClass('active');\n\t\tif( headerMiddle.hasClass('active') ) {\n\t\t\t$(searchInput).focus();\n\t\t}\n\t});\n\n\t// search input field functionality\n\n\t$('#js-hamburger').on('click', function() {\n\t\tvar headerBottom = $('.header_bottom');\n\t\t$(headerBottom).toggleClass('active');\n\t});\n\n\t\n\n\t// HOME PAGE\n\n\tif( $('body').hasClass('home') || $('body').hasClass('search') ) {\n\n\t\t// hero slider\n\n\t\t// var timer = setInterval(transitionHero, 4000);\n\n\t\tvar currentSlide = $('.slide-1');\n\n\t\t// var transitionHero = function () {\n\n\t\t// \tcurrentSlide.removeClass('active');\n\t\t\t\n\t\t// \tvar index = 1;\n\n\t\t// \tif (currentSlide.next().length) {\n\n\t\t// \t\tcurrentSlide.next().addClass('active');\n\n\t\t// \t\tindex = currentSlide.next().index();\n\n\t\t// \t\tcurrentSlide = currentSlide.next();\n\n\t\t// \t} else {\n\n\t\t// \t\t$('.slide-1').addClass('active');\n\n\t\t// \t\tindex = 0;\n\n\t\t// \t\tcurrentSlide = $('.slide-1');\n\t\t// \t}\n\n\t\t// \t$('.progress-of-slides .progress-btn').removeClass('active');\n\n\t\t// \t$('.progress-of-slides .progress-btn').eq(index).addClass('active');\n\n\t\t// };\n\n\t\t// progress buttons on slider\n\n\t\t$('.progress-of-slides .progress-btn').on('click', function() {\n\n\t\t\t// clearInterval(timer);\n\n\t\t\t// timer = setInterval(transitionHero, 4000);\n\n\t\t\tvar index = $(this).index();\n\n\t\t\tcurrentSlide.removeClass('active');\n\n\t\t\tcurrentSlide = $('.slides > div').eq(index);\n\n\t\t\tcurrentSlide.addClass('active');\n\n\t\t\t$('.progress-of-slides .progress-btn').removeClass('active');\n\n\t\t\t$(this).addClass('active');\n\n\t\t});\n\n\t\t// slide navigation buttons to go back and forward\n\n\t\tvar currentSearchSlide = $('.search-slide-1');\n\t\tvar indexSearchSlide = 0;\n\n\t\t$('.container-nav .nav').on('click', function() {\n\t\t\tvar slideDirection = $(this).attr('data-nav-direction');\n\t\t\tvar totalNumOfSlides = $('[class^=\"search-slide\"]').length-1;\n\n\t\t\tif( slideDirection === 'back' && indexSearchSlide === 0 ) {\n\t\t\t\tindexSearchSlide = totalNumOfSlides; // go to last slide\n\t\t\t\n\t\t\t} else if( slideDirection === 'forward' && indexSearchSlide === totalNumOfSlides ) {\n\t\t\t\tindexSearchSlide = 0; // go to first slide\n\t\t\t\n\t\t\t} else if( slideDirection === 'back' ) {\n\t\t\t\tindexSearchSlide = indexSearchSlide - 1;\n\t\t\t\n\t\t\t} else if( slideDirection === 'forward' ) {\n\t\t\t\tindexSearchSlide = indexSearchSlide + 1;\n\t\t\t}\n\t\t\t\n\t\t\tcurrentSearchSlide.removeClass('active');\n\t\t\tcurrentSearchSlide = $('.slides > div').eq(indexSearchSlide);\n\t\t\tcurrentSearchSlide.addClass('active');\n\n\t\t});\n\n\t\t// small device handling of block categories\n\t\t\n\t\tif( $(window).width() <= 640 ) {\n\t\t\t$('.block-1 .item a').on('click', function(e) {\n\t\t\t\t// console.log('clicked');\n\t\t\t\tif( $(this).hasClass('active') ) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t$('.block-1 .item a').removeClass('active');\n\t\t\t\t\t$('.block-1 .item a .mobile-go').removeClass('active');\n\t\t\t\t\t$(this).addClass('active');\n\t\t\t\t\t$(this).find('.mobile-go').addClass('active');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\n\t}\n\n\t\n\t// LIGHTBOX\n\n\t// set empty array to collect all images inside of container-lightbox-content\n\tvar lightboxImages = [];\n\n\tfunction formatLightboxImageSize(imgSizes) {\n\t\t\n\t\tvar imgArr = imgSizes.split(', ');\n\n\t\t// reverse array so largest sizes first\n\t\timgArr.reverse();\n\n\t\t// match image size we are after\n\t\tvar mdLgSize = imgArr.find(function(item, index, array) {\n\t\t\treturn item.indexOf('768w') > -1 || item.indexOf('710w') > -1 || item.indexOf('640w') > -1;\n\t\t});\n\n\t\t// split array at the space\n\t\tmdLgSize = mdLgSize.split(' ');\n\t\t\n\t\t// return just the url for image\n\t\treturn mdLgSize[0];\n\n\t}\n\t\n\n\tfunction updateButtonNav() {\n\t\t// hide button nav buttons\n\t\t$('.lightbox_content .previous, .lightbox_content .next').addClass('button_hidden');\n\t\t// if there are images in the array\n\t\tif (lightboxImages.length > 0) {\n\t\t\t// set index to be the same as the lightbox data index value\n\t\t\tvar index = $('.lightbox_content img').data('index');\n\t\t\t// when img data index value above 0 show prev button nav\n\t\t\tif (index > 0) {\n\t\t\t\t$('.lightbox_content .previous').removeClass('button_hidden');\n\t\t\t}\n\t\t\t// when img data index value below the last index of array show next button nav\n\t\t\tif (index < lightboxImages.length-1) {\n\t\t\t\t$('.lightbox_content .next').removeClass('button_hidden');\n\t\t\t}\n\t\t}\n\t}\n\n\t$('.post-single .container_content img').on('click', function(e) {\n\t\te.preventDefault();\n\n\t\t// store src for clicked image - medium-large size\n\t\tvar clickedImgSource = $(this).attr('src');\n\n\t\t// store alt for clicked image\n\t\tvar clickedImgAlt = $(this).attr('alt') || '';\n\n\t\t// store reference to initial image to be displayed in lightbox\n\t\tvar firstLightboxImg;\n\n\t\t// iterate through each img loaded through content AND in ACF gallery\n\t\t$(this).parents('.content-area').find('[class^=\"wp-image\"]').each(function(index) {\n\n\t\t\tvar currentImgSource = '';\n\t\t\tvar currentImgAtl = '';\n\n\t\t\t// get image src of each el - medium size\n\t\t\tif( $(this).attr('src') ) {\n\t\t\t\tcurrentImgSource = $(this).attr('src');\n\t\t\t} else {\n\t\t\t\tcurrentImgSource = $(this).data('src');\n\t\t\t}\n\n\t\t\tif( $(this).attr('alt') ) {\n\t\t\t\tcurrentImgAtl = $(this).attr('alt');\n\t\t\t} else {\n\t\t\t\tcurrentImgAtl = $(this).data('alt');\n\t\t\t}\n \n\t\t\t// if the clicked image src is equal to the current image source then set the data index value to be that number\n\t\t\tif (clickedImgSource === currentImgSource) {\n\t\t\t\t$('.lightbox_content img').data('index', index);\n\t\t\t\t// set initial image to be displayed in lightbox\n\t\t\t\tcurrentImgSource = formatLightboxImageSize($(this).attr('srcset'));\n\t\t\t\tfirstLightboxImg = currentImgSource;\n\t\t\t}\n\n\t\t\t// format to use medium-large size\n\t\t\tif( $(this).attr('srcset') ) {\n\t\t\t\tcurrentImgSource = formatLightboxImageSize($(this).attr('srcset'));\n\t\t\t}\n\n\t\t\t// push all image srcs into lightboxImages array\n\t\t\tlightboxImages.push({imageSrc: currentImgSource, imageAlt: currentImgAtl});\n\t\t});\n\n\t\t// update button nav UI\n\t\tupdateButtonNav();\n\n\t\t// set lightbox img src\n\t\t$('.lightbox_content img').attr(\"src\",firstLightboxImg);\n\t\t// set image comment\n\t\t$('.lightbox_content .image_comment').text(clickedImgAlt);\n\t\t// animate lightbox box open\n\t\t$('.lightbox').removeClass('lightbox_close').addClass('lightbox_open');\n\t});\n\n\t// when click next button nav\n\t$('.lightbox_content .next').on('click', function() {\n\t\t// get the current data index value of the lightbox image\n\t\tvar index = $('.lightbox_content img').data('index');\n\t\t// set image comment to be next alt source value in array\n\t\t$('.lightbox_content .image_comment').text(lightboxImages[index+1].imageAlt);\n\t\t// set img source and data index to be next value in array\n\t\t$('.lightbox_content img').attr('src', lightboxImages[index+1].imageSrc).data('index', index+1);\n\t\t// update button nav UI\n\t\tupdateButtonNav();\n\t});\n\n\t// when click prev button nav\n\t$('.lightbox_content .previous').on('click', function() {\n\t\t// get the current data index value of the lightbox image\n\t\tvar index = $('.lightbox_content img').data('index');\n\t\t// set image comment to be previous alt source value in array\n\t\t$('.lightbox_content .image_comment').text(lightboxImages[index-1].imageAlt);\n\t\t// set img source and data index to be previous value in array\n\t\t$('.lightbox_content img').attr('src', lightboxImages[index-1].imageSrc).data('index', index-1);\n\t\t// update button nav UI\n\t\tupdateButtonNav();\n\t});\n\n\t$('.lightbox_x_close').on('click', function() {\n\t\t// reset lightboxImages array\n\t\tlightboxImages = []; \n\t\t// animate lightbox box close\n\t\t$(this).parents('.lightbox').removeClass('lightbox_open').addClass('lightbox_close');\n\t});\n\n\n\t// MAP PAGE\n\n\tif( $('body').hasClass('page-map') ) {\n\n\t\t$('.accordion h4').on('click', function() {\n\t\t\t$(this).next('.accordion-content').toggleClass('active');\n\t\t});\n\t}\n\n});"],"sourceRoot":"/source/"}